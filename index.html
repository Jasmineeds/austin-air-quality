<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8"> <!-- Necessary as we may use µg -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Austin Air Quality</title>

  <!-- External Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart.js library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script> <!-- CSV parser -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/map.css">
  <link rel="stylesheet" href="styles/quality-index.css">
  <link rel="stylesheet" href="styles/info.css">
</head>

<body>
  <!-- Navigation Bar -->
  <div class="navbar">
    <div class="hamburger">☰</div>
    <div class="title">Austin Air Quality</div>
  </div>

  <div class="sidebar">
    <ul class="nav-menu">
      <li data-page="map">Map</li>
      <li data-page="chart">Data</li>
      <li data-page="index">Index</li>
      <li data-page="info">Pollutant</li>
    </ul>
  </div>

  <div id="page-container">
    <div id="map-page" class="page active">
      <h1>Air Monitor Map</h1>
      <div id="info"></div>
      <div id="map-container"></div>
    </div>

    <div id="chart-page" class="page">
      <h1 class="page-title">2024 Air Quality Index Data Plotter</h1>

      <!-- Dropdown to Select CSV File -->
      <label for="csvDropdown">Select Monitor:</label>
      <select id="csvDropdown">
        <option>Select Site</option>
        <option value="aqi_0.csv">Monitor 1 - Glenlake</option>
        <option value="aqi_1.csv">Monitor 2 - Barton Creek</option>
        <option value="aqi_2.csv">Monitor 3 - UT Austin</option>
        <option value="aqi_3.csv">Monitor 4 - South Congress</option>
        <option value="aqi_4.csv">Monitor 5 - Mueller</option>
        <option value="aqi_5.csv">Monitor 6 - East Austin</option>
        <option value="aqi_6.csv">Monitory 7 - Dogs Head</option>
        <option value="aqi_7.csv">Monitor 8 - Riverside</option>
        <option value="aqi_8.csv">Monitor 9 - Garden Valley</option>
        <option value="aqi_9.csv">Monitor 10 - Montopolis</option>
      </select>

      <!-- Dropdown to Select Pollutant to Plot -->
      <label for="pollutantToPlot">Choose Pollutant:</label>
      <select id="pollutantToPlot">
        <option value="pm25">PM2.5</option>
        <option value="pm10">PM10</option>
        <option value="co">CO</option>
        <option value="no2">NO2</option>
        <option value="o3">O3</option>
      </select>

      <!-- Select start and end date -->
      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate" />
      <label for="endDate">End Date:</label>
      <input type="date" id="endDate" />

      <!-- Button to generate a plot -->
      <button id="generatePlotButton">Generate Plot</button>

      <!-- Canvas for Scatterplot -->
      <canvas id="scatterPlot" width="400" height="200"></canvas>
    </div>

    <div id="index-page" class="page">
      <h1 class="page-title">Air Quality Index</h1>
      <div class="description">
        Air quality index (AQI) is a measure of outdoor air quality, and a reflection of human health hazards related to air pollution. 
        It can be calculated for the six criteria pollutants regulated by the US Environmental Protection Agency, but by convention is 
        reported for Particulate Matter 2.5 or Ozone (whichever yields a greater AQI). AQI values are categorized into ranges with 
        increasing levels of concern and color codes for easy recognition.
      </div>

      <table id="aqiTable">
        <tr>
          <th>AQI Color</th>
          <th>Levels of Concern</th>
          <th>Index Values</th>
          <th>Description of Air Quality</th>
        </tr>
      </table>
    </div>

    <div id="info-page" class="page">
      <h1 class="page-title">Pollutant Information</h1>
      <div class="nav-buttons">
        <button class="nav-button" data-section="co">CO</button>
        <button class="nav-button" data-section="no2">NO2</button>
        <button class="nav-button" data-section="o3">O3</button>
        <button class="nav-button" data-section="pm">PM</button>
      </div>
      <!-- Content generated from scripts/info.js -->
      <div class="section" id="co"></div>
      <div class="section" id="no2"></div>
      <div class="section" id="o3"></div>
      <div class="section" id="pm"></div>
    </div>

  </div>

  <!-- Scripts -->
  <script src="scripts/main.js"></script>
  <script type="module" src="scripts/map.js?nocache=1"></script>
  <script src="scripts/chart.js"></script>
  <script src="scripts/quality-index.js"></script>
  <script src="scripts/info.js"></script>
</body>

</html>
